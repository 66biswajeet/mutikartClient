# Authentication Flow Diagram

## ğŸ”„ Complete User Journey

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         HOME PAGE                                â”‚
â”‚                    (Client Port 3001)                            â”‚
â”‚                                                                   â”‚
â”‚  Header: [Logo] [Search] [Wishlist] [Cart] [Sign In/Register]  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â”‚ User clicks "Sign In / Register"
                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     AUTH MODAL OPENS                             â”‚
â”‚                    (Default: Login View)                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                                     â”‚
        â–¼                                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   LOGIN VIEW     â”‚              â”‚  REGISTER VIEW   â”‚
â”‚                  â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                  â”‚
â”‚  â€¢ Email         â”‚ "Sign in"    â”‚  â€¢ Name          â”‚
â”‚  â€¢ Password      â”‚              â”‚  â€¢ Email         â”‚
â”‚  â€¢ [Log In]      â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º  â€¢ Password      â”‚
â”‚  â€¢ "Sign Up"     â”‚ "Sign Up"    â”‚  â€¢ Confirm Pass  â”‚
â”‚  â€¢ Forgot Pass?  â”‚              â”‚  â€¢ [Register]    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚  â€¢ "Sign in"     â”‚
         â”‚                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                                  â”‚
         â”‚ Submit Login                     â”‚ Submit Registration
         â–¼                                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  API: /login    â”‚              â”‚  API: /register      â”‚
â”‚  Admin Panel    â”‚              â”‚  Admin Panel         â”‚
â”‚  Port 3000      â”‚              â”‚  Port 3000           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                                  â”‚
         â”‚ Success                          â”‚ Success
         â–¼                                  â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  JWT   â”‚                    â”‚  Send OTP Email  â”‚
    â”‚ Cookie â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”˜                               â”‚
         â”‚                                   â”‚
         â”‚                                   â–¼
         â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                    â”‚ EMAIL VERIFICATION VIEW  â”‚
         â”‚                    â”‚                          â”‚
         â”‚                    â”‚  â€¢ Display user email    â”‚
         â”‚                    â”‚  â€¢ OTP input (6 digits)  â”‚
         â”‚                    â”‚  â€¢ [Verify] button       â”‚
         â”‚                    â”‚  â€¢ "Resend code" link    â”‚
         â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                               â”‚
         â”‚                               â”‚ Submit OTP
         â”‚                               â–¼
         â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                    â”‚ API: /verify-otp â”‚
         â”‚                    â”‚  Admin Panel     â”‚
         â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                               â”‚
         â”‚                               â”‚ Success
         â”‚                               â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚   CHECK USER ROLE   â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                                 â”‚
        â–¼                                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Regular User â”‚                 â”‚  Vendor User      â”‚
â”‚ Redirect to  â”‚                 â”‚  Redirect to      â”‚
â”‚ Home Page    â”‚                 â”‚  Vendor Dashboard â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                                 â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚   AUTHENTICATED      â”‚
              â”‚   HOME PAGE          â”‚
              â”‚                      â”‚
              â”‚ Header shows:        â”‚
              â”‚ "Hello, [Name]"      â”‚
              â”‚ [Logout] button      â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ” Detailed Component Interaction Flow

### 1. Initial State (Not Authenticated)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Header   â”‚
â”‚            â”‚
â”‚  Guest     â”‚â”€â”€â”
â”‚  View      â”‚  â”‚ Click Sign In
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
                â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  AuthModal  â”‚
         â”‚  isOpen:    â”‚
         â”‚  false      â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. Modal Opens

```
User clicks â†’ Header.handleAuthClick()
            â†“
     setIsAuthModalOpen(true)
            â†“
         AuthModal
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ currentView: â”‚
         â”‚  "login"     â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3. Login Process

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Login Component                â”‚
â”‚                                          â”‚
â”‚  1. User enters email & password         â”‚
â”‚  2. validateForm() checks inputs         â”‚
â”‚  3. useAuth().login() called             â”‚
â”‚     â”œâ”€ POST /api/auth/login             â”‚
â”‚     â”œâ”€ Forward to admin API              â”‚
â”‚     â”œâ”€ Admin verifies credentials        â”‚
â”‚     â”œâ”€ JWT token generated               â”‚
â”‚     â””â”€ Cookies set (uat, user)           â”‚
â”‚  4. AuthContext updates user state       â”‚
â”‚  5. Role check (user vs vendor)          â”‚
â”‚  6. Redirect to appropriate dashboard    â”‚
â”‚  7. Modal closes                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4. Registration Process

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Register Component              â”‚
â”‚                                          â”‚
â”‚  1. User fills form                      â”‚
â”‚  2. validateForm() checks:               â”‚
â”‚     â”œâ”€ Name required                     â”‚
â”‚     â”œâ”€ Valid email format                â”‚
â”‚     â”œâ”€ Password rules (6+, upper,        â”‚
â”‚     â”‚  lower, number, symbol)            â”‚
â”‚     â””â”€ Passwords match                   â”‚
â”‚  3. useAuth().register() called          â”‚
â”‚     â”œâ”€ POST /api/auth/register          â”‚
â”‚     â”œâ”€ Admin creates user                â”‚
â”‚     â”œâ”€ Admin sends OTP email             â”‚
â”‚     â””â”€ Returns user data                 â”‚
â”‚  4. onSwitchToVerify(email) called       â”‚
â”‚  5. AuthModal switches to verify view    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5. Email Verification Process

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     EmailVerification Component          â”‚
â”‚                                          â”‚
â”‚  1. Display: "Code sent to [email]"      â”‚
â”‚  2. User enters OTP code                 â”‚
â”‚  3. useAuth().verifyOTP() called         â”‚
â”‚     â”œâ”€ POST /api/auth/verify-otp        â”‚
â”‚     â”œâ”€ Admin checks OTP match            â”‚
â”‚     â”œâ”€ Admin checks OTP expiry           â”‚
â”‚     â””â”€ Returns success                   â”‚
â”‚  4. Success message displayed            â”‚
â”‚  5. setTimeout redirect to home (1.5s)   â”‚
â”‚  6. Modal closes                         â”‚
â”‚                                          â”‚
â”‚  Resend Flow:                            â”‚
â”‚  â”œâ”€ User clicks "Resend"                 â”‚
â”‚  â”œâ”€ 60s cooldown starts                  â”‚
â”‚  â”œâ”€ POST /api/auth/resend-otp           â”‚
â”‚  â””â”€ New OTP sent to email                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ­ State Management Flow

### AuthContext State

```javascript
{
  user: {
    id: "507f1f77bcf86cd799439011",
    name: "John Doe",
    email: "john@example.com",
    role: "user"
  },
  loading: false,
  isAuthenticated: true,

  // Methods
  login: Function,
  register: Function,
  verifyOTP: Function,
  resendOTP: Function,
  logout: Function
}
```

### Cookie Structure

```
Document.cookie:
â”œâ”€ uat (httpOnly, secure)
â”‚  â””â”€ JWT token for API authentication
â”‚
â””â”€ user (readable by client)
   â””â”€ {"id":"...","name":"...","email":"...","role":"..."}
```

## ğŸ¨ View Transitions

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              AuthModal Views                 â”‚
â”‚                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    "Sign Up"    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Login  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º â”‚ Register â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚      â–²                             â”‚        â”‚
â”‚      â”‚                             â”‚        â”‚
â”‚      â”‚ "Sign in"                   â”‚        â”‚
â”‚      â”‚                             â”‚        â”‚
â”‚      â”‚                    Register Success  â”‚
â”‚      â”‚                             â”‚        â”‚
â”‚      â”‚                             â–¼        â”‚
â”‚      â”‚                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚      â”‚                      â”‚   Verify   â”‚  â”‚
â”‚      â”‚                      â”‚    OTP     â”‚  â”‚
â”‚      â”‚                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚      â”‚                             â”‚        â”‚
â”‚      â”‚                             â”‚        â”‚
â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Success â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”„ Error Handling Flow

```
API Call
   â”‚
   â”œâ”€ Network Error â”€â”€â”€â”€â”€â”€â–º Display "Network error"
   â”‚
   â”œâ”€ 400 Bad Request â”€â”€â”€â”€â–º Parse error message
   â”‚                        Display inline error
   â”‚
   â”œâ”€ 401 Unauthorized â”€â”€â”€â–º "Invalid credentials"
   â”‚
   â”œâ”€ 409 Conflict â”€â”€â”€â”€â”€â”€â”€â–º "Email already registered"
   â”‚
   â”œâ”€ 500 Server Error â”€â”€â”€â–º "Internal server error"
   â”‚
   â””â”€ Success (200/201) â”€â”€â–º Continue flow
```

## ğŸ“Š Data Flow Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   CLIENT (Port 3001)                 â”‚
â”‚                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ Component â”‚â”€â”€â”€â”€â–ºâ”‚ AuthContext â”‚â”€â”€â”€â”€â–ºâ”‚ API Routeâ”‚â”‚
â”‚  â”‚  (UI)     â”‚     â”‚  (State)    â”‚     â”‚ (Proxy)  â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”˜
                                                â”‚
                                                â”‚ HTTP
                                                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   ADMIN (Port 3000)                  â”‚
â”‚                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ API Routeâ”‚â”€â”€â”€â”€â–ºâ”‚  dbConnect â”‚â”€â”€â”€â”€â–ºâ”‚ MongoDB  â”‚ â”‚
â”‚  â”‚  (Auth)  â”‚     â”‚ (Mongoose) â”‚     â”‚  Atlas   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                       â”‚
â”‚  â”‚  SMTP    â”‚â”€â”€â”€â”€â”€â–º Send OTP Email                  â”‚
â”‚  â”‚ Service  â”‚                                       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ” Sequence Diagram - Complete Flow

```
User    Header   AuthModal   Login    AuthContext   API(Client)   API(Admin)   MongoDB
 â”‚        â”‚          â”‚         â”‚           â”‚             â”‚             â”‚           â”‚
 â”‚ Click  â”‚          â”‚         â”‚           â”‚             â”‚             â”‚           â”‚
 â”œâ”€â”€â”€â”€â”€â”€â”€â–ºâ”‚          â”‚         â”‚           â”‚             â”‚             â”‚           â”‚
 â”‚        â”‚ Open     â”‚         â”‚           â”‚             â”‚             â”‚           â”‚
 â”‚        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚         â”‚           â”‚             â”‚             â”‚           â”‚
 â”‚        â”‚          â”‚ Show    â”‚           â”‚             â”‚             â”‚           â”‚
 â”‚        â”‚          â”œâ”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚           â”‚             â”‚             â”‚           â”‚
 â”‚        â”‚          â”‚         â”‚ Submit    â”‚             â”‚             â”‚           â”‚
 â”‚        â”‚          â”‚         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚             â”‚             â”‚           â”‚
 â”‚        â”‚          â”‚         â”‚           â”‚ POST /login â”‚             â”‚           â”‚
 â”‚        â”‚          â”‚         â”‚           â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚             â”‚           â”‚
 â”‚        â”‚          â”‚         â”‚           â”‚             â”‚ POST /signinâ”‚           â”‚
 â”‚        â”‚          â”‚         â”‚           â”‚             â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚           â”‚
 â”‚        â”‚          â”‚         â”‚           â”‚             â”‚             â”‚ Query Userâ”‚
 â”‚        â”‚          â”‚         â”‚           â”‚             â”‚             â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
 â”‚        â”‚          â”‚         â”‚           â”‚             â”‚             â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 â”‚        â”‚          â”‚         â”‚           â”‚             â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ User Data â”‚
 â”‚        â”‚          â”‚         â”‚           â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ JWT + User  â”‚           â”‚
 â”‚        â”‚          â”‚         â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ Success     â”‚             â”‚           â”‚
 â”‚        â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ Close     â”‚             â”‚             â”‚           â”‚
 â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”¤ Update Header      â”‚           â”‚             â”‚             â”‚           â”‚
 â”‚        â”‚ "Hello, [Name]"    â”‚           â”‚             â”‚             â”‚           â”‚
```

This comprehensive authentication system provides a secure, user-friendly experience matching your wireframe specifications exactly!
